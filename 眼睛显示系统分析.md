# çœ¼ç›æ˜¾ç¤ºç³»ç»Ÿåˆ†ææŠ¥å‘Š

## ä¸€ã€ç³»ç»Ÿæ¶æ„æ¦‚è¿°

è¯¥é¡¹ç›®å®ç°äº†ä¸€ä¸ªåŸºäº ESP32-S3 çš„åŒç›®æœºå™¨äººçœ¼ç›æ˜¾ç¤ºç³»ç»Ÿï¼Œä½¿ç”¨ä¸¤å— GC9A01 LCD é¢æ¿ï¼ˆ240x240 åƒç´ ï¼‰æ˜¾ç¤ºåŠ¨æ€çœ¼ç›æ•ˆæœã€‚

### æ ¸å¿ƒç»„ä»¶

1. **eye_display.cc/h** - çœ¼ç›æ˜¾ç¤ºä¸»é€»è¾‘
2. **eyes_data.h** - çœ¼ç›çº¹ç†æ•°æ®ï¼ˆå·©è†œã€è™¹è†œã€çœ¼ç‘ã€æåæ ‡æ˜ å°„ï¼‰
3. **eye_themes.cc/h** - ä¸»é¢˜ç³»ç»Ÿç®¡ç†

## äºŒã€æ•°æ®ç»“æ„åˆ†æ

### 2.1 çœ¼ç›çº¹ç†æ•°æ®ï¼ˆeyes_data.hï¼‰

çœ¼ç›æ¸²æŸ“éœ€è¦ä»¥ä¸‹å››ç§æ ¸å¿ƒæ•°æ®ï¼š

```cpp
// 1. å·©è†œï¼ˆçœ¼ç™½ï¼‰- RGB565 æ ¼å¼
const uint16_t sclera_xingkong[375*375];  // æ˜Ÿç©ºä¸»é¢˜å·©è†œ
const uint16_t sclera_shuimu[375*375];    // æ°´å¢¨ä¸»é¢˜å·©è†œ
const uint16_t sclera_keji[375*375];      // ç§‘æŠ€ä¸»é¢˜å·©è†œ

// 2. è™¹è†œ - RGB565 æ ¼å¼ï¼ˆæåæ ‡æ˜ å°„ï¼‰
const uint16_t iris_xingkong[256*64];     // 256åˆ— x 64è¡Œ

// 3. æåæ ‡æ˜ å°„è¡¨ - RGB565 æ ¼å¼
const uint16_t polar_default[150*150];    // å­˜å‚¨è§’åº¦å’Œè·ç¦»ä¿¡æ¯

// 4. çœ¼ç‘é®æŒ¡å›¾ - 8ä½ç°åº¦å›¾
const uint8_t upper_default[240*240];     // ä¸Šçœ¼ç‘é®æŒ¡
const uint8_t lower_default[240*240];     // ä¸‹çœ¼ç‘é®æŒ¡
```

### 2.2 æ•°æ®æ ¼å¼è¯´æ˜

- **RGB565**: 16ä½é¢œè‰²æ ¼å¼ï¼Œæ¯ä¸ªåƒç´  2 å­—èŠ‚
- **æåæ ‡æ˜ å°„**: è™¹è†œä½¿ç”¨æåæ ‡å­˜å‚¨ï¼Œå‹ç¼©ç©ºé—´çš„åŒæ—¶ä¾¿äºæ—‹è½¬æ•ˆæœ
- **çœ¼ç‘é®æŒ¡**: 8ä½å€¼è¡¨ç¤ºé®æŒ¡ç¨‹åº¦ï¼Œ0 = å®Œå…¨é€æ˜ï¼ˆæ˜¾ç¤ºçœ¼ç›ï¼‰ï¼Œ255 = å®Œå…¨é®æŒ¡

## ä¸‰ã€æ¸²æŸ“æµç¨‹è¯¦è§£

### 3.1 ä¸»æ¸²æŸ“å‡½æ•° - `drawEye()`

```cpp
void drawEye(uint8_t e,              // çœ¼ç›ç´¢å¼•
             uint32_t iScale,        // è™¹è†œç¼©æ”¾å€¼ (IRIS_MIN ~ IRIS_MAX)
             uint32_t scleraX,       // å·©è†œXåç§»
             uint32_t scleraY,       // å·©è†œYåç§»
             uint32_t uT,            // ä¸Šçœ¼ç‘é˜ˆå€¼
             uint32_t lT)            // ä¸‹çœ¼ç‘é˜ˆå€¼
```

### 3.2 æ¸²æŸ“æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    drawEye() ä¸»æ¸²æŸ“å‡½æ•°                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  åˆ†é…åŒç¼“å†²åŒºï¼ˆæ¯æ‰¹10è¡Œï¼‰        â”‚
        â”‚  lineBuf[0], lineBuf[1]       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  å¤–å¾ªç¯ï¼šéå†å±å¹•æ‰¹æ¬¡ï¼ˆæ¯10è¡Œï¼‰  â”‚
        â”‚  for (screenY = 0; ... )      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  å†…å¾ªç¯ï¼šéå†æ¯è¡Œçš„åƒç´          â”‚
        â”‚  for (screenX = 0; ... )      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   åƒç´ æ¸²æŸ“å†³ç­–æ ‘               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚           â”‚           â”‚
            â–¼           â–¼           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ çœ¼ç‘é®æŒ¡ï¼Ÿ â”‚ â”‚åœ¨è™¹è†œåŒºï¼Ÿâ”‚ â”‚  æ˜¾ç¤ºå·©è†œ    â”‚
    â”‚  p = 0    â”‚ â”‚         â”‚ â”‚  scleraæ•°æ®  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       No
                        â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Yes       â”‚           â”‚
            â–¼           â–¼           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ æåæ ‡æ˜ å°„ â”‚ â”‚è¶…å‡ºèŒƒå›´ï¼Ÿ â”‚ â”‚ æ˜¾ç¤ºè™¹è†œ  â”‚
    â”‚ polar[]  â”‚ â”‚ æ˜¾ç¤ºå·©è†œ â”‚ â”‚ irisæ•°æ® â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   é¢œè‰²è½¬æ¢ï¼šRGB565 â†’ RGB565    â”‚
        â”‚   (å­—èŠ‚åºäº¤æ¢: bigâ†”little)     â”‚
        â”‚   p = (p >> 8) | (p << 8)     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   å†™å…¥åŒç¼“å†²åŒº                 â”‚
        â”‚   currentBuf[pixelIdx] = p    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   æ‰¹é‡ç»˜åˆ¶åˆ°LCDï¼ˆ10è¡Œï¼‰        â”‚
        â”‚   esp_lcd_safe_draw_bitmap()  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   é‡Šæ”¾ç¼“å†²åŒº                   â”‚
        â”‚   free(lineBuf[0/1])          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 åƒç´ æ¸²æŸ“æ ¸å¿ƒé€»è¾‘ï¼ˆeye_display.cc:189-210ï¼‰

```cpp
for (screenX = 0; screenX < SCREEN_WIDTH; screenX++, scleraX++, irisX++) {
    uint32_t screenIdx = (screenY + line) * SCREEN_WIDTH + screenX;

    // ç¬¬ä¸€æ­¥ï¼šæ£€æŸ¥çœ¼ç‘é®æŒ¡
    if ((lower[screenIdx] <= lT) || (upper[screenIdx] <= uT)) {
        p = 0;  // è¢«çœ¼ç‘é®æŒ¡ï¼Œæ˜¾ç¤ºé»‘è‰²
    }
    // ç¬¬äºŒæ­¥ï¼šæ£€æŸ¥æ˜¯å¦åœ¨è™¹è†œåŒºåŸŸ
    else if ((irisY < 0) || (irisY >= IRIS_HEIGHT) ||
             (irisX < 0) || (irisX >= IRIS_WIDTH)) {
        p = sclera[scleraY * SCLERA_WIDTH + scleraX];  // æ˜¾ç¤ºå·©è†œ
    }
    // ç¬¬ä¸‰æ­¥ï¼šåœ¨è™¹è†œåŒºåŸŸå†…
    else {
        p = polar[irisY * IRIS_WIDTH + irisX];         // è·å–æåæ ‡æ˜ å°„
        d = (iScale * (p & 0x7F)) / 240;               // è®¡ç®—è·ç¦»ç¼©æ”¾

        if (d < IRIS_MAP_HEIGHT) {
            uint16_t a = (IRIS_MAP_WIDTH * (p >> 7)) / 512;  // è®¡ç®—è§’åº¦
            p = iris[d * IRIS_MAP_WIDTH + a];          // ä»è™¹è†œçº¹ç†å–è‰²
        } else {
            p = sclera[scleraY * SCLERA_WIDTH + scleraX];  // è¶…å‡ºèŒƒå›´æ˜¾ç¤ºå·©è†œ
        }
    }
    // RGB565 å­—èŠ‚åºè½¬æ¢ï¼ˆå¤§ç«¯â†”å°ç«¯ï¼‰
    currentBuf[pixelIdx] = (p >> 8) | (p << 8);
}
```

## å››ã€è™¹è†œæ¸²æŸ“çš„å…³é”®æŠ€æœ¯

### 4.1 æåæ ‡æ˜ å°„åŸç†

`polar[]` æ•°ç»„å­˜å‚¨äº†æ¯ä¸ªåƒç´ ç‚¹çš„**è§’åº¦å’Œè·ç¦»**ä¿¡æ¯ï¼š

```
polar å€¼çš„ä½ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é«˜7ä½ (15-9)â”‚     ä½7ä½ (8-0)              â”‚
â”‚   è§’åº¦ç´¢å¼•   â”‚       è·ç¦»å€¼                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **ä½7ä½ (p & 0x7F)**: è·ç¦»å€¼ (0-127)
- **é«˜7ä½ (p >> 7)**: è§’åº¦ç´¢å¼• (0-127)

### 4.2 è™¹è†œç¼©æ”¾è®¡ç®—

```cpp
// ä» polar è·å–åŸå§‹è·ç¦»å€¼
d = (iScale * (p & 0x7F)) / 240;

// iScale èŒƒå›´ï¼šIRIS_MIN(180) ~ IRIS_MAX(280)
// é€šè¿‡ç¼©æ”¾å› å­æ§åˆ¶è™¹è†œå¤§å°
```

### 4.3 è™¹è†œçº¹ç†æŸ¥æ‰¾

```cpp
// è®¡ç®—è™¹è†œçº¹ç†åæ ‡
uint16_t a = (IRIS_MAP_WIDTH * (p >> 7)) / 512;  // è§’åº¦ â†’ Xåæ ‡
d = (iScale * (p & 0x7F)) / 240;                  // è·ç¦» â†’ Yåæ ‡

// ä»æåæ ‡æ˜ å°„çš„è™¹è†œçº¹ç†å–è‰²
p = iris[d * IRIS_MAP_WIDTH + a];
```

## äº”ã€å…³é”®é—®é¢˜è§£ç­”

### â“ å¦‚æœ `eye_data.h` åªæœ‰ sclera å’Œ irisï¼Œèƒ½æ­£å¸¸æ˜¾ç¤ºå—ï¼Ÿ

### âœ… ç­”æ¡ˆï¼š**ä¸èƒ½æ­£å¸¸æ˜¾ç¤º**

#### åŸå› åˆ†æï¼š

ç³»ç»Ÿåœ¨æ¸²æŸ“æ—¶éœ€è¦**å››ä¸ªå…³é”®æ•°æ®**ï¼Œç¼ºä¸€ä¸å¯ï¼š

1. **scleraï¼ˆå·©è†œ/çœ¼ç™½ï¼‰** - âŒ å¿…éœ€
   - ç”¨é€”ï¼šæ˜¾ç¤ºçœ¼ç›çš„ç™½è‰²èƒŒæ™¯
   - å°ºå¯¸ï¼š375Ã—375ï¼ŒRGB565æ ¼å¼

2. **irisï¼ˆè™¹è†œï¼‰** - âŒ å¿…éœ€
   - ç”¨é€”ï¼šæ˜¾ç¤ºçœ¼ç›çš„å½©è‰²éƒ¨åˆ†
   - å°ºå¯¸ï¼š256Ã—64ï¼ˆæåæ ‡æ˜ å°„ï¼‰ï¼ŒRGB565æ ¼å¼

3. **polarï¼ˆæåæ ‡æ˜ å°„ï¼‰** - âŒ **å¿…éœ€ä½†å¸¸è¢«å¿½ç•¥**
   - ç”¨é€”ï¼šå­˜å‚¨æ¯ä¸ªè™¹è†œåƒç´ çš„**è§’åº¦å’Œè·ç¦»**ä¿¡æ¯
   - å°ºå¯¸ï¼š150Ã—150ï¼ŒRGB565æ ¼å¼
   - **å…³é”®ä½œç”¨**ï¼šå°†å±å¹•åæ ‡æ˜ å°„åˆ°è™¹è†œçš„æåæ ‡çº¹ç†

4. **upper/lowerï¼ˆçœ¼ç‘é®æŒ¡ï¼‰** - âŒ **å¿…éœ€ä½†å¸¸è¢«å¿½ç•¥**
   - ç”¨é€”ï¼šå®ç°çœ¨çœ¼æ•ˆæœï¼Œæ§åˆ¶ä¸Šä¸‹çœ¼ç‘çš„é®æŒ¡ç¨‹åº¦
   - å°ºå¯¸ï¼š240Ã—240ï¼Œ8ä½ç°åº¦å›¾
   - **å…³é”®ä½œç”¨**ï¼šåˆ›å»ºè‡ªç„¶çš„çœ¨çœ¼åŠ¨ç”»

#### ç¼ºå¤±æ•°æ®çš„å½±å“ï¼š

| ç¼ºå¤±æ•°æ® | ç—‡çŠ¶ | ä»£ç è¡¨ç° |
|---------|------|---------|
| `polar[]` | ğŸ”´ **ç¼–è¯‘é”™è¯¯**æˆ–è¿è¡Œæ—¶å´©æºƒ | `eye_display.cc:199` è®¿é—®æ— æ•ˆå†…å­˜ |
| `upper[]/lower[]` | ğŸ”´ **ç¼–è¯‘é”™è¯¯**æˆ–è¿è¡Œæ—¶å´©æºƒ | `eye_display.cc:194` è®¿é—®æ— æ•ˆå†…å­˜ |
| `sclera[]` | ğŸ”´ **ç¼–è¯‘é”™è¯¯**æˆ–è¿è¡Œæ—¶å´©æºƒ | `eye_display.cc:197,205` è®¿é—®æ— æ•ˆå†…å­˜ |
| `iris[]` | ğŸ”´ **ç¼–è¯‘é”™è¯¯**æˆ–è¿è¡Œæ—¶å´©æºƒ | `eye_display.cc:203` è®¿é—®æ— æ•ˆå†…å­˜ |

### ä»£ç è¯æ®ï¼š

#### è¯æ®1ï¼špolar æ˜¯å¿…éœ€çš„ï¼ˆeye_display.cc:47,199,203ï¼‰

```cpp
// line 47: polar å£°æ˜
const uint16_t *polar = polar_default;  // å¿…é¡»åˆå§‹åŒ–

// line 199: ä½¿ç”¨ polar è·å–æåæ ‡
p = polar[irisY * IRIS_WIDTH + irisX];  // å¦‚æœ polar æœªå®šä¹‰ â†’ å´©æºƒ

// line 203: ä½¿ç”¨ polar çš„è§’åº¦ä¿¡æ¯
uint16_t a = (IRIS_MAP_WIDTH * (p >> 7)) / 512;  // éœ€è¦ polar çš„é«˜7ä½
```

#### è¯æ®2ï¼šupper/lower æ˜¯å¿…éœ€çš„ï¼ˆeye_display.cc:49-50,194ï¼‰

```cpp
// line 49-50: upper/lower å£°æ˜
const uint8_t *upper = upper_default;  // å¿…é¡»åˆå§‹åŒ–
const uint8_t *lower = lower_default;  // å¿…é¡»åˆå§‹åŒ–

// line 194: ä½¿ç”¨çœ¼ç‘é®æŒ¡åˆ¤æ–­
if ((lower[screenIdx] <= lT) || (upper[screenIdx] <= uT)) {
    p = 0;  // å¦‚æœ upper/lower æœªå®šä¹‰ â†’ å´©æºƒ
}
```

#### è¯æ®3ï¼šé»˜è®¤æ•°æ®åœ¨ eyes_data.h ä¸­å®šä¹‰ï¼ˆeyes_data.h:54802,59604,74014ï¼‰

```cpp
// line 54802: ä¸Šçœ¼ç‘æ•°æ®
const uint8_t upper_default[240 * 240] = { ... };

// line 59604: ä¸‹çœ¼ç‘æ•°æ®
const uint8_t lower_default[240 * 240] = { ... };

// line 74014: æåæ ‡æ˜ å°„æ•°æ®
const uint16_t polar_default[150 * 150] = { ... };
```

## å…­ã€æ€»ç»“

### å®Œæ•´çš„çœ¼ç›æ•°æ®éœ€æ±‚

```cpp
// âœ… å®Œæ•´çš„ eye_data.h å¿…é¡»åŒ…å«ï¼š

// 1. å·©è†œçº¹ç†ï¼ˆè‡³å°‘ä¸€ä¸ªï¼‰
const uint16_t sclera_xxx[375*375];

// 2. è™¹è†œçº¹ç†ï¼ˆæåæ ‡æ˜ å°„ï¼‰
const uint16_t iris_xxx[256*64];

// 3. æåæ ‡æ˜ å°„è¡¨
const uint16_t polar[150*150];

// 4. çœ¼ç‘é®æŒ¡å›¾ï¼ˆä¸Šä¸‹å„ä¸€ï¼‰
const uint8_t upper[240*240];
const uint8_t lower[240*240];
```

### æ¸²æŸ“ä¾èµ–å…³ç³»

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  drawEye()  â”‚
         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           â”‚           â”‚
    â–¼           â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”
â”‚sclera â”‚  â”‚ iris â”‚  â”‚polar  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚           â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ upper/lower  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœ€ä½³å®è·µå»ºè®®

1. **ä¸»é¢˜æ–‡ä»¶åº”è¯¥åŒ…å«å®Œæ•´çš„å››ç§æ•°æ®**
2. **polar æ•°æ®å¯ä»¥åœ¨ä¸åŒä¸»é¢˜é—´å…±äº«**ï¼ˆå› ä¸ºå®ƒåªæ˜¯åæ ‡æ˜ å°„ï¼‰
3. **upper/lower ä¹Ÿå¯ä»¥å…±äº«**ï¼ˆé™¤ééœ€è¦ä¸åŒå½¢çŠ¶çš„çœ¼ç‘ï¼‰
4. **æ¯ä¸ªä¸»é¢˜åªéœ€è¦æä¾›ç‹¬ç‰¹çš„ sclera å’Œ iris**

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ†ææ—¥æœŸ**: 2025-12-29
**é¡¹ç›®**: xiaozhi-esp32 åŒç›®çœ¼ç›æ˜¾ç¤ºç³»ç»Ÿ
