<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/web-reminder/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>提醒管理 - AI助手管理平台</title>
    <!-- 原始样式 -->
    <script type="module" crossorigin src="/web-reminder/assets/index-BSkx8ejL.js"></script>
    <link rel="stylesheet" crossorigin href="/web-reminder/assets/index-DPZcPbBW.css">
    <!-- 自定义紫色渐变主题 -->
    <link rel="stylesheet" href="/web-reminder/custom-style.css">
  </head>
  <body>
    <div id="app"></div>

    <!-- 认证检查 -->
    <script>
      (function() {
        const API_BASE = window.location.protocol + '//' + window.location.hostname + ':8081/api';
        const token = localStorage.getItem('session_token');

        // 如果没有token，跳转到登录页
        if (!token) {
          window.location.href = '/static/auth.html?target=/web-reminder/';
          return;
        }

        // 验证token有效性
        fetch(`${API_BASE}/auth/verify`, {
          headers: { 'Authorization': `Bearer ${token}` }
        })
        .then(res => res.json())
        .then(data => {
          if (!data.success) {
            localStorage.removeItem('session_token');
            window.location.href = '/static/auth.html?target=/web-reminder/';
          }
        })
        .catch(() => {
          window.location.href = '/static/auth.html?target=/web-reminder/';
        });
      })();
    </script>

    <!-- 添加导航按钮 -->
    <script src="/web-reminder/add-nav-buttons.js"></script>
  </body>
</html>
